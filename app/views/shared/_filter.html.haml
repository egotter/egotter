- if user_signed_in?
  .filter-container.btn-group{role: "group"}
    %button.filter-dropdown.btn.btn-outline-secondary.btn-sm{"aria-expanded" => "false", "aria-haspopup" => "true", "data-toggle" => "dropdown", type: "button"}
      = t('filter.title')
      %span.filter-count
      %i.fas.fa-filter
    .dropdown-menu
      - purchased = current_user.has_valid_subscription?
      - Filter::VALUES.each.with_index do |(label, value), i|
        - if i < 2 || purchased
          %a.filters.dropdown-item{href: "#", data: {filter: value}}
            = label
        - else
          %a.filters.dropdown-item.btn-checkout.text-muted{href: "#"}
            = label
            %i.fas.fa-unlock
  :javascript
    $('.filter-container .filters').on('click', function () {
      var page = '#{request.path}';
      var text = $(this).text().trim();
      ahoy.track('Filter', {page: page, text: text});
    });
- else
  = link_to sign_in_path(redirect_path: request.path, via: current_via('filter_button')), class: 'btn btn-outline-secondary btn-sm' do
    = t('filter.title')
    %i.fas.fa-filter
